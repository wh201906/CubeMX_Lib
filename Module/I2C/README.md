# 软件模拟I2C

参考UM10204手册编写  
支持作为主设备发送/接收数据，通讯速率可配置，时序与STM32硬件I2C基本一致  
适配SMBCLK变为低电平时的数据保留时间  
支持7位/10位从设备地址  
实现CRC-8以支持SMBus协议中的PEC校验，查找表大小为32Byte  
单一源文件支持控制多个端口

默认使用STM32内部上拉电阻(大部分为40kohm，少数引脚为10kohm)，在标准模式下可直接工作，快速模式下考虑SCL/SDA外接上拉电阻以缩短上升时间  
TODO:  
在一个字节发送完成后检测SDA，若SDA为低电平则等待或报错  
支持从设备  
时钟延展  
高速状态下时序修复  